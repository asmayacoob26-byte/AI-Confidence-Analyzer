<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Confidence Analyzer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header>
            <div class="header-content">
                <h1>üé§ AI Confidence Analyzer</h1>
                <p>Analyze your speech confidence in real-time</p>
            </div>
        </header>

        <!-- Main Content -->
        <main>
            <!-- Recording Controls Section -->
            <section class="controls-section">
                <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px;flex-wrap:wrap;">
                    <label for="languageSelect" style="font-weight:600;color:#333;">Language:</label>
                    <select id="languageSelect" style="padding:8px 12px;border-radius:8px;border:1px solid #ddd;">
                        <option value="en-US">English (en-US)</option>
                        <option value="ta-IN">Tamil (ta-IN)</option>
                        <option value="hi-IN">Hindi (hi-IN)</option>
                    </select>
                </div>
                <div class="button-group">
                    <button id="startBtn" type="button" class="btn btn-primary">
                        <span class="icon">üî¥</span>Start Recording
                    </button>
                    <button id="stopBtn" type="button" class="btn btn-danger" disabled>
                        <span class="icon">‚èπ</span>Stop Recording
                    </button>
                    <button id="resetBtn" type="button" class="btn btn-secondary" style="display: none;">
                        <span class="icon">üîÑ</span>Try Again
                    </button>
                </div>

                <!-- Status Message -->
                <div id="statusMessage" class="status-message hidden"></div>
                <!-- Confidence Progress (modern) -->
                <div id="confidenceProgressWrap" style="margin-top:16px;">
                    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
                        <strong>Confidence</strong>
                        <span id="confidencePercent" style="font-weight:700;">0%</span>
                    </div>
                    <div class="confidence-bar" style="background:#f0f0f0;border-radius:14px;height:18px;overflow:hidden;">
                        <div id="confidenceBar" style="height:100%;width:0%;background:linear-gradient(90deg,#4caf50,#8bc34a);transition:width 800ms cubic-bezier(.2,.8,.2,1);"></div>
                    </div>
                </div>
            </section>
            <!-- Practice History Dashboard -->
            <section class="detailed-metrics" id="historySection">
                <h3>üìà Practice History</h3>
                <div style="display:flex;gap:20px;flex-wrap:wrap;">
                    <div style="flex:1;min-width:300px;">
                        <canvas id="historyChart"></canvas>
                    </div>
                    <div style="flex:1;min-width:220px;">
                        <div class="history-card">
                            <h4 style="margin-bottom:8px;">Recent Sessions</h4>
                            <ul id="historyList" style="list-style:none;padding-left:0;margin:0;max-height:260px;overflow:auto;"></ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Live Transcript Section -->
            <section id="transcriptSection" class="transcript-section hidden">
                <h3>üìù Live Transcript:</h3>
                <div id="transcript" class="transcript-text"></div>
            </section>

            <!-- Visualization Row -->
            <section class="results-section hidden" id="visualRow">
                <div style="display:flex;gap:20px;flex-wrap:wrap;padding:20px;">
                    <div style="flex:1;min-width:260px;">
                        <canvas id="radarChart" aria-label="Radar chart" role="img"></canvas>
                    </div>
                    <div style="flex:1;min-width:260px;">
                        <h3 style="margin-bottom:8px;">Speech Speed</h3>
                        <div class="metric-box" style="padding:20px;margin-bottom:12px;">
                            <div style="display:flex;justify-content:space-between;align-items:center;">
                                <div>
                                    <div style="font-size:0.95em;color:#666;">Words Per Minute</div>
                                    <div id="wpmValue" style="font-size:2em;font-weight:700;color:var(--primary-color);">0</div>
                                </div>
                                <div style="text-align:right;">
                                    <div style="font-size:0.95em;color:#666;">Duration</div>
                                    <div id="durationValue" style="font-size:1.2em;font-weight:700;">0s</div>
                                </div>
                            </div>
                            <div id="wpmFeedback" style="margin-top:12px;font-weight:600;">‚Äî</div>
                        </div>

                        <div class="feedback-card">
                            <h3>AI Coach</h3>
                            <div id="aiCoach" class="feedback-text">Use the coach to get suggestions after recording.</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="spinner hidden"></div>

            <!-- Results Section -->
            <section id="resultsSection" class="results-section hidden">
                
                <!-- Grammar Accuracy Score Card -->
                <div class="score-card grammar-card">
                    <h2>üî§ Grammar Accuracy</h2>
                    <div class="score-circle">
                        <span id="grammarAccuracyValue" class="score-number">0</span>
                        <span class="score-max">/ 100</span>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div id="grammarProgressBar" class="progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="score-description">Evaluates grammar correctness, punctuation, tense consistency, and sentence structure</p>
                </div>

                <!-- Confidence Level Score Card -->
                <div class="score-card confidence-card">
                    <h2>üé§ Confidence Level</h2>
                    <div class="score-circle">
                        <span id="confidenceLevelValue" class="score-number">0</span>
                        <span class="score-max">/ 100</span>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div id="confidenceProgressBar" class="progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="score-description">Measures filler usage, vocabulary richness, and delivery confidence</p>
                </div>

                <!-- Overall Performance Score Card -->
                <div class="score-card performance-card">
                    <h2>‚≠ê Overall Performance</h2>
                    <div class="score-circle">
                        <span id="overallPerformanceValue" class="score-number">0</span>
                        <span class="score-max">/ 100</span>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div id="overallProgressBar" class="progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="score-description">Average of Grammar Accuracy and Confidence Level</p>
                </div>

                <!-- Overall Feedback Card -->
                <div class="feedback-card">
                    <h3>üí° Overall Feedback</h3>
                    <p id="feedbackText" class="feedback-text"></p>
                </div>

                <!-- Grammar Issues Section -->
                <div id="grammarSection" class="analysis-card hidden">
                    <h3>üîç Grammar Issues</h3>
                    <p class="issues-subtitle">Detected errors with suggestions for improvement</p>
                    <ul id="grammarList" class="issues-list"></ul>
                </div>

                <!-- Fluency Issues Section -->
                <div id="fluencySection" class="analysis-card hidden">
                    <h3>‚ö° Fluency Issues</h3>
                    <ul id="fluencyList" class="issues-list"></ul>
                </div>

                <!-- Vocabulary Analysis Section -->
                <div id="vocabularySection" class="analysis-card hidden">
                    <h3>üìö Vocabulary Analysis</h3>
                    <ul id="vocabularyList" class="issues-list"></ul>
                </div>

                <!-- Filler Word Analysis Section -->
                <div id="fillerSection" class="analysis-card hidden">
                    <h3>üé§ Filler Word Analysis</h3>
                    <ul id="fillerList" class="issues-list"></ul>
                </div>

                <!-- Metrics Card -->
                <div class="metrics-card">
                    <h3>üìä Speech Metrics</h3>
                    <div class="metrics-grid">
                        <!-- Total Words Metric -->
                        <div class="metric-box">
                            <span class="metric-label">Total Words</span>
                            <span id="totalWords" class="metric-value">0</span>
                        </div>

                        <!-- Filler Words Metric -->
                        <div class="metric-box">
                            <span class="metric-label">Filler Words</span>
                            <span id="fillerCount" class="metric-value">0</span>
                        </div>

                        <!-- Filler Percentage Metric -->
                        <div class="metric-box">
                            <span class="metric-label">Filler %</span>
                            <span id="fillerPercent" class="metric-value">0%</span>
                        </div>

                        <!-- Vocabulary Richness Metric -->
                        <div class="metric-box">
                            <span class="metric-label">Vocabulary Richness</span>
                            <span id="vocabRichness" class="metric-value">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Detailed Metrics Breakdown -->
                <div class="detailed-metrics">
                    <h3>üìà Detailed Breakdown</h3>
                    <ul id="metricsList" class="metrics-list"></ul>
                </div>
            </section>

            <!-- Instructions Section -->
            <section class="instructions-section">
                <h3>üìñ How to Use:</h3>
                <ol class="instructions-list">
                    <li>Click <strong>"Start Recording"</strong> to begin speaking</li>
                    <li>Speak clearly into your microphone</li>
                    <li>Click <strong>"Stop Recording"</strong> when finished</li>
                    <li>View your confidence score and detailed feedback</li>
                </ol>
                
                <h3>üí° Tips for Better Score:</h3>
                <ul class="tips-list">
                    <li>Avoid filler words like "um", "uh", "like", "you know"</li>
                    <li>Use varied sentence lengths for natural rhythm</li>
                    <li>Speak for at least 20-30 seconds</li>
                    <li>Avoid hesitant language ("I think", "maybe", "probably")</li>
                    <li>Speak with confidence and conviction</li>
                </ul>

                <h3>üåê Browser Support:</h3>
                <p class="browser-support">
                    Voice recording: <strong>Chrome (required)</strong>. Analysis UI works read-only in other browsers.
                </p>
            </section>
        </main>

        <!-- Footer Section -->
        <footer>
           
        </footer>
    </div>

    <!-- Link to JavaScript file -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
